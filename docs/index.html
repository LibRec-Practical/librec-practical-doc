<!DOCTYPE html>
<html lang="en">
<script>
  var _hmt = _hmt || [];
  (function () {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?889b969f37a63ff607a01b89d1b9c658";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>

<head>
  <meta charset="UTF-8">
  <title>LibRec实战文档</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="Description">
  <meta name="viewport"
    content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <link rel="stylesheet" href="//unpkg.com/docsify/lib/themes/vue.css">
  <!--gitalk.css-->
  <link rel="stylesheet" href="stastic/docsify/lib/themes/gitalk.css">
  <link rel="icon" href="_media/favicon.ico">
</head>

<body>
  <nav>
    <a href="#/en/">EN</a>
    <a href="#/zh-cn/">中文</a>
  </nav>

  <div id="app">加载中... </div>

  <script>
    window.$docsify = {
      name: 'LibRec实战',
      repo: 'librec-practical',
      // logo: '/_media/icon.png',

      auto2top: true, //当路线改变时，滚动到屏幕的顶部。
      coverpage: true, //激活封面功能。如果为true，则会从中加载_coverpage.md。
      executeScript: true, //执行页面上的脚本。只解析第一个脚本标记（演示）。如果存在Vue，则默认开启。
      loadSidebar: true, //_sidebar.md如果为真，则从_sidebar.md文件加载边栏，否则从指定的路径加载。
      alias: {
        '/.*/_sidebar.md': '/_sidebar.md'
      },
      loadNavbar: false, //_navbar.md如果为真，则从_navbar.md文件加载navbar ，否则从指定的路径加载。
      mergeNavbar: true, //Navbar将在小屏幕上与侧边栏合并。
      maxLevel: 0,//最大的内容表级别。
      subMaxLevel: 2,

      search: {
        noData: {
          '/zh-cn/': '没有结果!',
          '/en/': 'No results!',
          '/': 'No results!'
        },
        paths: 'auto',
        placeholder: {
          '/zh-cn/': '搜索',
          '/en/': 'Search',
          '/': '搜索'
        }
      },
      formatUpdated: '{MM}/{DD} {HH}:{mm}',

    }
  </script>
  <script src="stastic/docsify/lib/docsify.min.js"></script>
  <script src="stastic/docsify/lib/plugins/search.min.js"></script>

  <script src="stastic/prismjs/components/prism-bash.min.js"></script>
  <script src="stastic/prismjs/components/prism-markdown.min.js"></script>
  <script src="stastic/prismjs/components/prism-nginx.min.js"></script>
  <!--支持emoji表情-->
  <script src="stastic/docsify/lib/plugins/emoji.js"></script>
  <!-- docsify-themeable (latest v0.x.x) -->
  <script src="https://cdn.jsdelivr.net/npm/docsify-themeable@0"></script>
  <!--支持复制到剪切板-->
  <script src="stastic/docsify/lib/plugins/docsify-copy-code.min.js"></script>

  <script src="stastic/docsify/lib/gitalk/dist/gitalk.min.js"></script>
  <script src="stastic/docsify/lib/md5.min.js"></script>
  <!--引入java代码高亮显示-->
  <script src="stastic/docsify/lib/compoent/prism-java.js"></script>->

  <script>
    const gittalk_options = {
      clientID: '304d9ef09de8a194c528',
      clientSecret: '19241908ecd0e23a53624ffbb3bd2b4f8a4cfc98',
      repo: 'librec-practical',
      owner: 'LibRec-Practical',
      admin: ['LibRec-Practical'],
      // facebook-like distraction free mode
      distractionFreeMode: false
    };

    function render_gitalk(elem_name) {
      gittalk_options.id = md5(location.href.split('?')[0]);
      // console.log('url=' + location.href)
      // console.log('id=' + gittalk_options.id)
      delete window.gitalk;
      window.gitalk = new Gitalk(gittalk_options);
      window.gitalk.render(elem_name)
    }

    (function () {
      function install(hook) {
        let dom = Docsify.dom;

        hook.mounted(function (_) {
          let div = dom.create('div');
          div.id = 'gitalk-container';
          let main = dom.getNode('#main');
          div.style = "width: " + (main.clientWidth) + "px; margin: 0 auto 20px;";
          dom.appendTo(dom.find('.content'), div);
          /*
          var script = dom.create('script');
          var content = "render_gitalk('gitalk-container')"; // "gitalk.render('gitalk-container')";
          script.textContent = content;
          dom.appendTo(dom.body, script);
          */
          // console.log('docsify mounted')
        });

        hook.doneEach(function () {
          // console.log('docsify doneEach')
          let container = dom.getNode('#gitalk-container');
          container.textContent = '';
          render_gitalk('gitalk-container');
        })
      }

      $docsify.plugins = [].concat(install, $docsify.plugins);
    }());
  </script>
</body>

</html>